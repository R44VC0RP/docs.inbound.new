---
title: "Inbound API Documentation"
description: "Simple email processing API for receiving and managing emails programmatically"
---

<img
  className="block dark:hidden"
  src="/logo/light.svg"
  alt="Inbound Logo"
  width="200"
/>
<img
  className="hidden dark:block"
  src="/logo/dark.svg"
  alt="Inbound Logo"
  width="200"
/>

Welcome to Inbound! Get started with sending emails, receiving emails, and building complete email workflows in minutes.

## Quick Start

<Steps>
  <Step title="Get Your API Key">
    Sign up at [inbound.new](https://inbound.new) and generate an API key from your dashboard.
  </Step>
  
  <Step title="Install the SDK (Recommended)">
    Install our SDK for the best developer experience:
    
    ```bash
    npm install @inboundemail/sdk
    ```
  </Step>
  
  <Step title="Send Your First Email">
    Start sending emails immediately:
    
    <CodeGroup>
    ```typescript SDK (Recommended)
    import { Inbound } from '@inboundemail/sdk'
    
    const inbound = new Inbound(process.env.INBOUND_API_KEY!)
    
    const email = await inbound.emails.send({
      from: 'Inbound User <hello@yourdomain.com>',
      to: 'user@example.com',
      subject: 'Welcome!',
      html: '<p>Thanks for signing up!</p>',
      tags: [{ name: 'campaign', value: 'welcome' }]
    })
    
    console.log(`Email sent: ${email.id}`)
    ```
    
    ```bash cURL
    curl -X POST https://inbound.new/api/v2/emails \
      -H "Authorization: Bearer your_api_key_here" \
      -H "Content-Type: application/json" \
      -d '{
        "from": "hello@yourdomain.com",
        "to": "user@example.com",
        "subject": "Welcome!",
        "html": "<p>Thanks for signing up!</p>"
      }'
    ```
    </CodeGroup>
  </Step>
</Steps>

## Complete Email Workflow

Here's how to receive emails and automatically reply using Next.js:

### 1. Set Up Webhook Endpoint

Create a webhook endpoint to receive emails:

```typescript app/api/webhooks/inbound/route.ts
import { Inbound, type InboundWebhookPayload, isInboundWebhook } from '@inboundemail/sdk'
import { NextRequest, NextResponse } from 'next/server'

const inbound = new Inbound(process.env.INBOUND_API_KEY!)

export async function POST(request: NextRequest) {
  try {
    const payload: InboundWebhookPayload = await request.json()
    
    // Verify this is a valid Inbound webhook
    if (!isInboundWebhook(payload)) {
      return NextResponse.json({ error: 'Invalid webhook' }, { status: 400 })
    }
    
    const { email } = payload
    console.log(`ðŸ“§ Received email: ${email.subject} from ${email.from?.addresses?.[0]?.address}`)
    
    // Auto-reply to support emails
    if (email.subject?.toLowerCase().includes('support')) {
      await inbound.reply(email, {
        from: 'support@yourdomain.com',
        text: 'Thanks for contacting support! We\'ll get back to you within 24 hours.',
        tags: [{ name: 'type', value: 'auto-reply' }]
      })
    }
    
    // Auto-reply to thank you emails
    if (email.subject?.toLowerCase().includes('thanks')) {
      await inbound.reply(email, {
        from: 'hello@yourdomain.com',
        html: '<p>You\'re welcome! Let us know if you need anything else.</p>'
      })
    }
    
    return NextResponse.json({ success: true })
  } catch (error) {
    console.error('Webhook error:', error)
    return NextResponse.json({ error: 'Webhook processing failed' }, { status: 500 })
  }
}
```

### 2. Advanced Reply Logic

Build intelligent auto-responders:

```typescript
// Check if it's business hours
const now = new Date()
const isBusinessHours = now.getHours() >= 9 && now.getHours() < 17

if (email.subject?.toLowerCase().includes('urgent') && !isBusinessHours) {
  await inbound.reply(email, {
    from: 'support@yourdomain.com',
    subject: 'Urgent Request Received - Out of Hours',
    html: `
      <p>Thanks for your urgent request!</p>
      <p>We're currently outside business hours (9 AM - 5 PM EST), 
         but we'll prioritize your message first thing tomorrow morning.</p>
      <p>For immediate assistance, please call: +1-555-SUPPORT</p>
    `,
    tags: [
      { name: 'priority', value: 'urgent' },
      { name: 'time', value: 'after-hours' }
    ]
  })
}
```

### 3. Process Attachments

Handle email attachments in your webhook:

```typescript
if (email.cleanedContent.attachments.length > 0) {
  console.log(`ðŸ“Ž Email has ${email.cleanedContent.attachments.length} attachments`)
  
  for (const attachment of email.cleanedContent.attachments) {
    console.log(`- ${attachment.filename} (${attachment.contentType})`)
    
    // Auto-reply for PDF attachments
    if (attachment.contentType?.includes('pdf')) {
      await inbound.reply(email, {
        from: 'documents@yourdomain.com',
        text: 'Thanks for sending the PDF! We\'ll review it and get back to you soon.',
        tags: [{ name: 'attachment-type', value: 'pdf' }]
      })
    }
  }
}
```

## SDK vs API

<Tabs>
<Tab title="SDK (Recommended)">
The SDK provides a better developer experience with TypeScript support, automatic retries, and simplified webhook handling.

```typescript
import { Inbound } from '@inboundemail/sdk'

const inbound = new Inbound(process.env.INBOUND_API_KEY!)

// Send email
await inbound.emails.send({
  from: 'hello@yourdomain.com',
  to: 'user@example.com',
  subject: 'Welcome!',
  html: '<p>Thanks for signing up!</p>',
  replyTo: 'support@yourdomain.com',
  tags: [{ name: 'campaign', value: 'welcome' }]
})

// Reply to webhook email
await inbound.reply(email, {
  from: 'support@yourdomain.com',
  text: 'Thanks for your message!'
})
```
</Tab>

<Tab title="Direct API">
Use the REST API directly if you prefer or need custom implementations.

```bash
# Send email
curl -X POST https://inbound.new/api/v2/emails \
  -H "Authorization: Bearer your_api_key_here" \
  -H "Content-Type: application/json" \
  -d '{
    "from": "hello@yourdomain.com",
    "to": "user@example.com",
    "subject": "Welcome!",
    "html": "<p>Thanks for signing up!</p>",
    "replyTo": "support@yourdomain.com",
    "tags": [{"name": "campaign", "value": "welcome"}]
  }'

# Reply to email
curl -X POST https://inbound.new/api/v2/emails/{email_id}/reply \
  -H "Authorization: Bearer your_api_key_here" \
  -H "Content-Type: application/json" \
  -d '{
    "from": "support@yourdomain.com",
    "text": "Thanks for your message!"
  }'
```
</Tab>
</Tabs>

## What's New in SDK v3.0.0

<Update label="SDK v3.0.0" description="Major update">
### ðŸš¨ Breaking Changes
- **Simplified constructor**: `new Inbound(apiKey)` instead of config object
- **Reply method requires explicit from**: No more default reply addresses

### âœ¨ New Features
- **Tags support**: Add metadata to emails like Resend
- **Better TypeScript types**: Improved IDE support and type safety
- **Backward compatibility**: API supports both snake_case and camelCase
</Update>

## Base URL

All API requests are made to:

```
https://inbound.new/api/v2
```

## API Features

<CardGroup cols={2}>
  <Card title="Send Emails" icon="paper-plane" href="/api-reference/emails/send-email">
    Send transactional emails with Resend-compatible API
  </Card>
  
  <Card title="Receive Emails" icon="inbox" href="/sdk/webhook-handling">
    Process incoming emails via webhooks with TypeScript types
  </Card>
  
  <Card title="Reply to Emails" icon="reply" href="/api-reference/emails/reply-to-email">
    Send replies to received emails with full threading support
  </Card>
  
  <Card title="Manage Domains" icon="globe" href="/api-reference/domains/create-domain">
    Add and verify domains for email receiving
  </Card>
</CardGroup>

## Webhook Payload Structure

When you receive emails, here's the payload structure:

```typescript
interface InboundWebhookPayload {
  event: 'email.received'
  timestamp: string
  email: {
    id: string // Use this ID for replies
    messageId: string | null
    from: { addresses: [{ name: string, address: string }] }
    to: { addresses: [{ name: string, address: string }] }
    subject: string | null
    recipient: string
    receivedAt: string
    parsedData: {
      textBody: string | undefined
      htmlBody: string | undefined
      attachments: Array<{
        filename: string
        contentType: string
        size: number
      }>
      // ... more fields
    }
    cleanedContent: {
      html: string | null
      text: string | null
      attachments: Array<...>
    }
  }
  endpoint: {
    id: string
    name: string
    type: 'webhook' | 'email' | 'email_group'
  }
}
```

## Migration from v2.x to v3.0.0

<AccordionGroup>
<Accordion title="Update Constructor">
```typescript
// v2.x
const inbound = new Inbound({
  apiKey: process.env.INBOUND_API_KEY!,
  defaultReplyFrom: 'support@domain.com'
})

// v3.x
const inbound = new Inbound(process.env.INBOUND_API_KEY!)
```
</Accordion>

<Accordion title="Update Field Names">
```typescript
// v2.x
await inbound.emails.send({
  reply_to: 'noreply@domain.com',
  attachments: [{ content_type: 'application/pdf' }]
})

// v3.x
await inbound.emails.send({
  replyTo: 'noreply@domain.com',
  attachments: [{ contentType: 'application/pdf' }],
  tags: [{ name: 'campaign', value: 'welcome' }]
})
```
</Accordion>

<Accordion title="Update Reply Usage">
```typescript
// v2.x
await inbound.reply(email, "Thanks!")

// v3.x
await inbound.reply(email, {
  from: 'support@domain.com',
  text: 'Thanks!'
})
```
</Accordion>
</AccordionGroup>

## Error Handling

API errors are returned with appropriate HTTP status codes:

```json
{
  "error": "Invalid or missing API key"
}
```

Common status codes:
- `200` - Success
- `400` - Bad Request (invalid parameters)
- `401` - Unauthorized (invalid API key)
- `404` - Not Found (resource not found)
- `500` - Internal Server Error

## Need Help?

<CardGroup cols={3}>
  <Card title="Dashboard" icon="chart-line" href="https://inbound.new">
    Manage your account and API keys
  </Card>
  
  <Card title="SDK Documentation" icon="code" href="/sdk/installation">
    Complete SDK guides and examples
  </Card>
  
  <Card title="API Reference" icon="book" href="/api-reference/mail/list-emails">
    Detailed API endpoint documentation
  </Card>
</CardGroup>
