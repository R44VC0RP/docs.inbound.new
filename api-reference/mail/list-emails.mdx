---
title: "List Emails"
api: "GET /api/v2/mail"
description: "Retrieve all emails with filtering, pagination, and search capabilities"
---

<RequestExample>
```bash
GET https://inbound.new/api/v2/mail
```
</RequestExample>

## Authentication

<ParamField header="Authorization" type="string" required>
  Bearer token for API authentication. Format: `Bearer YOUR_API_KEY`
</ParamField>

## Query Parameters

<ParamField query="limit" type="integer" default="50">
  Maximum number of emails to return. Range: 1-100.
</ParamField>

<ParamField query="offset" type="integer" default="0">
  Number of emails to skip for pagination. Must be non-negative.
</ParamField>

<ParamField query="search" type="string">
  Search query to filter emails by subject, sender, or recipient.
</ParamField>

<ParamField query="status" type="string" default="all">
  Filter emails by processing status. Options: `all`, `processed`, `failed`
</ParamField>

<ParamField query="domain" type="string" default="all">
  Filter emails by recipient domain. Use specific domain name or `all` for no filter.
</ParamField>

<ParamField query="timeRange" type="string" default="30d">
  Filter emails by time range. Options: `24h`, `7d`, `30d`, `90d`
</ParamField>

<ParamField query="includeArchived" type="boolean" default="false">
  Whether to include archived emails in the results. By default, archived emails are excluded.
</ParamField>

<ParamField query="emailAddress" type="string">
  Filter emails by a specific email address. Searches across to, from, cc, and bcc fields. Cannot be used with `emailId`.
</ParamField>

<ParamField query="emailId" type="string">
  Filter emails by a specific email ID to get all emails in a thread. Cannot be used with `emailAddress`.
</ParamField>

## Request Examples

<CodeGroup>
```javascript Inbound SDK
import { InboundEmailClient } from '@inboundemail/sdk';

const inbound = new InboundEmailClient('your_api_key_here');

// Basic request
const { data, error } = await inbound.mail.list();

// With filters
const { data, error } = await inbound.mail.list({
  limit: 20,
  status: 'processed',
  domain: 'example.com'
});

// With search
const { data, error } = await inbound.mail.list({
  search: 'urgent',
  timeRange: '7d'
});

// Filter by email address
const { data, error } = await inbound.mail.list({
  emailAddress: 'customer@example.com',
  limit: 50
});

// Filter by email ID (thread)
const { data, error } = await inbound.mail.list({
  emailId: 'ses_abc123',
  includeArchived: true
});
```

```bash cURL
# Basic request
curl -X GET https://inbound.new/api/v2/mail \
  -H "Authorization: Bearer your_api_key_here"

# With filters
curl -X GET "https://inbound.new/api/v2/mail?limit=20&status=processed&domain=example.com" \
  -H "Authorization: Bearer your_api_key_here"

# With search
curl -X GET "https://inbound.new/api/v2/mail?search=urgent&timeRange=7d" \
  -H "Authorization: Bearer your_api_key_here"

# Filter by email address
curl -X GET "https://inbound.new/api/v2/mail?emailAddress=customer@example.com&limit=50" \
  -H "Authorization: Bearer your_api_key_here"

# Filter by email ID (thread)
curl -X GET "https://inbound.new/api/v2/mail?emailId=ses_abc123&includeArchived=true" \
  -H "Authorization: Bearer your_api_key_here"
```

```python Python
import requests

# Basic request
response = requests.get(
    'https://inbound.new/api/v2/mail',
    headers={'Authorization': f'Bearer {api_key}'}
)

# With filters
params = {
    'limit': 20,
    'status': 'processed',
    'domain': 'example.com'
}

response = requests.get(
    'https://inbound.new/api/v2/mail',
    headers={'Authorization': f'Bearer {api_key}'},
    params=params
)

data = response.json()
```

```php PHP
<?php
// Basic request
$curl = curl_init();

curl_setopt_array($curl, [
    CURLOPT_URL => "https://inbound.new/api/v2/mail",
    CURLOPT_RETURNTRANSFER => true,
    CURLOPT_HTTPHEADER => [
        "Authorization: Bearer your_api_key_here",
        "Content-Type: application/json"
    ],
]);

$response = curl_exec($curl);
$data = json_decode($response, true);
curl_close($curl);

// With filters
$params = http_build_query([
    'limit' => 20,
    'status' => 'processed',
    'domain' => 'example.com'
]);

$curl = curl_init();
curl_setopt_array($curl, [
    CURLOPT_URL => "https://inbound.new/api/v2/mail?" . $params,
    CURLOPT_RETURNTRANSFER => true,
    CURLOPT_HTTPHEADER => [
        "Authorization: Bearer your_api_key_here"
    ],
]);

$response = curl_exec($curl);
$data = json_decode($response, true);
curl_close($curl);
?>
```
</CodeGroup>

## Response

<ResponseExample>
```json Success Response
{
  "emails": [
    {
      "id": "email_123",
      "emailId": "ses_456",
      "messageId": "<message@example.com>",
      "subject": "Important Update",
      "from": "sender@example.com",
      "fromName": "John Doe",
      "recipient": "hello@yourdomain.com",
      "preview": "This is a preview of the email content...",
      "receivedAt": "2024-01-15T10:30:00Z",
      "isRead": false,
      "readAt": null,
      "isArchived": false,
      "archivedAt": null,
      "hasAttachments": true,
      "attachmentCount": 2,
      "parseSuccess": true,
      "parseError": null,
      "createdAt": "2024-01-15T10:30:00Z"
    }
  ],
  "pagination": {
    "total": 150,
    "limit": 50,
    "offset": 0,
    "hasMore": true
  },
  "filters": {
    "uniqueDomains": ["example.com", "yourdomain.com", "test.com"]
  }
}
```
</ResponseExample>

## Response Fields

<ResponseField name="emails" type="array">
  Array of email objects matching the query criteria.

  <Expandable title="Email Properties">
    <ResponseField name="id" type="string">
      Unique identifier for the email record.
    </ResponseField>
    
    <ResponseField name="emailId" type="string">
      Original email ID from the email service.
    </ResponseField>
    
    <ResponseField name="messageId" type="string">
      Message ID from the email headers.
    </ResponseField>
    
    <ResponseField name="subject" type="string">
      Email subject line. Returns "No Subject" if empty.
    </ResponseField>
    
    <ResponseField name="from" type="string">
      Sender's email address.
    </ResponseField>
    
    <ResponseField name="fromName" type="string | null">
      Sender's display name, if available.
    </ResponseField>
    
    <ResponseField name="recipient" type="string">
      Recipient's email address.
    </ResponseField>
    
    <ResponseField name="preview" type="string">
      First 200 characters of the email content (text or HTML stripped).
    </ResponseField>
    
    <ResponseField name="receivedAt" type="string">
      ISO 8601 timestamp when the email was received.
    </ResponseField>
    
    <ResponseField name="isRead" type="boolean">
      Whether the email has been read.
    </ResponseField>
    
    <ResponseField name="readAt" type="string | null">
      ISO 8601 timestamp when the email was read, if applicable.
    </ResponseField>
    
    <ResponseField name="isArchived" type="boolean">
      Whether the email has been archived.
    </ResponseField>
    
    <ResponseField name="archivedAt" type="string | null">
      ISO 8601 timestamp when the email was archived, if applicable.
    </ResponseField>
    
    <ResponseField name="hasAttachments" type="boolean">
      Whether the email contains attachments.
    </ResponseField>
    
    <ResponseField name="attachmentCount" type="integer">
      Number of attachments in the email.
    </ResponseField>
    
    <ResponseField name="parseSuccess" type="boolean | null">
      Whether the email was successfully parsed.
    </ResponseField>
    
    <ResponseField name="parseError" type="string | null">
      Error message if parsing failed, null if successful.
    </ResponseField>
    
    <ResponseField name="createdAt" type="string">
      ISO 8601 timestamp when the email record was created.
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="pagination" type="object">
  Pagination information for the current request.

  <Expandable title="Pagination Properties">
    <ResponseField name="total" type="integer">
      Total number of emails matching the query.
    </ResponseField>
    
    <ResponseField name="limit" type="integer">
      Maximum number of results returned in this request.
    </ResponseField>
    
    <ResponseField name="offset" type="integer">
      Number of results skipped for this request.
    </ResponseField>
    
    <ResponseField name="hasMore" type="boolean">
      Whether there are more results available.
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="filters" type="object">
  Available filter options based on your data.

  <Expandable title="Filter Properties">
    <ResponseField name="uniqueDomains" type="array">
      Array of unique recipient domains in your emails.
    </ResponseField>
  </Expandable>
</ResponseField>

## Error Responses

<AccordionGroup>
  <Accordion title="400 Bad Request - Invalid Limit">
    ```json
    {
      "error": "Limit must be between 1 and 100"
    }
    ```
  </Accordion>
  
  <Accordion title="400 Bad Request - Invalid Offset">
    ```json
    {
      "error": "Offset must be non-negative"
    }
    ```
  </Accordion>
  
  <Accordion title="400 Bad Request - Conflicting Filters">
    ```json
    {
      "error": "Cannot filter by both emailAddress and emailId at the same time"
    }
    ```
  </Accordion>
  
  <Accordion title="401 Unauthorized">
    ```json
    {
      "error": "Invalid or missing API key"
    }
    ```
  </Accordion>
  
  <Accordion title="500 Internal Server Error">
    ```json
    {
      "error": "Failed to fetch emails"
    }
    ```
  </Accordion>
</AccordionGroup>

## Usage Examples

### Basic Pagination

```javascript
import { InboundEmailClient } from '@inboundemail/sdk';

const inbound = new InboundEmailClient('your_api_key_here');

let allEmails = [];
let offset = 0;
const limit = 50;

while (true) {
  const { data, error } = await inbound.mail.list({ limit, offset });
  
  if (error) {
    console.error('Error fetching emails:', error);
    break;
  }
  
  allEmails.push(...data.emails);
  
  if (!data.pagination.hasMore) break;
  offset += limit;
}
```

### Search with Filters

```javascript
import { InboundEmailClient } from '@inboundemail/sdk';

const inbound = new InboundEmailClient('your_api_key_here');

const searchEmails = async (query, domain, timeRange) => {
  const { data, error } = await inbound.mail.list({
    search: query,
    domain: domain,
    timeRange: timeRange,
    status: 'processed'
  });
  
  if (error) {
    throw new Error(error);
  }
  
  return data;
};
```

### Filter by Email Address

```javascript
import { InboundEmailClient } from '@inboundemail/sdk';

const inbound = new InboundEmailClient('your_api_key_here');

const getEmailsForAddress = async (emailAddress) => {
  const { data, error } = await inbound.mail.list({
    emailAddress: emailAddress,
    includeArchived: true,
    limit: 100
  });
  
  if (error) {
    throw new Error(error);
  }
  
  return data;
};

// Get all emails for a customer
const customerEmails = await getEmailsForAddress('customer@example.com');
console.log(`Found ${customerEmails.emails.length} emails for customer`);
```

### Get Email Thread

```javascript
import { InboundEmailClient } from '@inboundemail/sdk';

const inbound = new InboundEmailClient('your_api_key_here');

const getEmailThread = async (emailId) => {
  const { data, error } = await inbound.mail.list({
    emailId: emailId,
    includeArchived: true
  });
  
  if (error) {
    throw new Error(error);
  }
  
  // Sort by date to see conversation flow
  const sortedEmails = data.emails.sort(
    (a, b) => new Date(a.receivedAt) - new Date(b.receivedAt)
  );
  
  return sortedEmails;
};

// Get all emails in a thread
const threadEmails = await getEmailThread('ses_abc123');
console.log(`Thread contains ${threadEmails.length} emails`);
```

<Tip>
Use the `uniqueDomains` array from the response to populate domain filter dropdowns in your application.
</Tip>

<Warning>
The `emailAddress` and `emailId` parameters cannot be used together in the same request. Use `emailAddress` to find all emails involving a specific address, or use `emailId` to find all emails in a specific thread.
</Warning>

<Check>
Documentation verified against API implementation `/api/v2/mail` - All parameters, response fields, and error handling match the actual endpoint behavior.
</Check>

**1.0 - ✅** 